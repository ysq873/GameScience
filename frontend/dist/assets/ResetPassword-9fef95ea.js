import{a as h}from"./auth-b6d999c4.js";import{_ as y,r as t,o as v,c as w,a,b as o,w as r,d,t as b}from"./index-1e67ce6d.js";import"./request-db331112.js";const k={name:"ResetPassword",data(){return{form:{email:""},rules:{email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},loading:!1}},methods:{async handleReset(){this.$refs.resetForm.validate(async i=>{var e,l;if(i){this.loading=!0;try{await h(this.form),this.$message.success("重置邮件已发送，请查收邮箱"),this.$router.push("/login")}catch(n){this.$message.error("发送失败："+(((l=(e=n.response)==null?void 0:e.data)==null?void 0:l.message)||n.message))}finally{this.loading=!1}}})}}},x={class:"reset-container"},V={class:"reset-form"},R={class:"form-links"};function C(i,e,l,n,s,_){const u=t("el-input"),m=t("el-form-item"),c=t("el-button"),f=t("el-form"),p=t("router-link");return v(),w("div",x,[a("div",V,[e[2]||(e[2]=a("h2",null,"重置密码",-1)),o(f,{model:s.form,rules:s.rules,ref:"resetForm"},{default:r(()=>[o(m,{prop:"email"},{default:r(()=>[o(u,{modelValue:s.form.email,"onUpdate:modelValue":e[0]||(e[0]=g=>s.form.email=g),placeholder:"请输入注册邮箱",size:"large","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),o(m,null,{default:r(()=>[o(c,{type:"primary",size:"large",loading:s.loading,onClick:_.handleReset,style:{width:"100%"}},{default:r(()=>[d(b(s.loading?"发送中...":"发送重置邮件"),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules"]),a("div",R,[o(p,{to:"/login"},{default:r(()=>[...e[1]||(e[1]=[d("返回登录",-1)])]),_:1})])])])}const z=y(k,[["render",C],["__scopeId","data-v-bd323df6"]]);export{z as default};
